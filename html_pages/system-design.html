<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Algorithms - Carbon Analysis with Volvo</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,700,700i&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Moderna - v4.10.1
  * Template URL: https://bootstrapmade.com/free-bootstrap-template-corporate-moderna/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center ">
    <div class="container d-flex justify-content-between align-items-center">

      <div class="logo">
        <h1 class="text-light"><a href="index.html"><span>Team 22</span></a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="requirements.html">Requirements</a></li>
          <li><a href="research.html">Research</a></li>
          <li><a href="algorithms.html">Algorithms</a></li>
          <li><a href="uiDesign.html">UI Design</a></li>
          <li><a class="active" href="system-design.html">System Design</a></li>
          <li><a href="implementation.html">Implementation</a></li>
          <li><a href="testing.html">Testing</a></li>
          <li><a href="evaluation.html">Evaluation</a></li>
          <li><a href="appendices.html">Appendices</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= About Us Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>System Design</h2>
          <ol>
            <li><a href="index.html">Home</a></li>
            <li>System Design</li>
          </ol>
        </div>

      </div>
    </section><!-- End About Us Section -->

    <!-- ======= About Section ======= -->
    <section class="about" data-aos="fade-up">
      <div class="container">
        
        <div class="row">
          <div class="">
            <div class="section-title">
                <h2>Table of Content</h2>
              </div>

            <ul class="table-of-content">
              <li><i class="bi bi-check2-circle"></i> System architecture diagram </li>
              <li><i class="bi bi-check2-circle"></i> Site Map</li>
              <li><i class="bi bi-check2-circle"></i> Sequence Diagrams</li>
              <li><i class="bi bi-check2-circle"></i> Design Patterns</li>
              <li><i class="bi bi-check2-circle"></i> Class Diagrams</li>
              <li><i class="bi bi-check2-circle"></i> Data storage</li>
              <li><i class="bi bi-check2-circle"></i> APIs defined</li>
            </ul>
          </div>
        </div>

      </div>
    </section><!-- End About Section -->

      <!-- ======= Why Us Section ======= -->
      <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
        <div class="container">

          <div class="row">
            <div style="padding: 20px;">
              <div class="section-title">
                <h2>System architecture diagram </h2>
              </div>
              
              <p>We use a request response architecture. The front end makes HTTP responses to a RESTful API; it renders the responses data as charts, graphs and text using the Nivo graphing library.</p>

        
  
            </div>
          </div>

          <div class="row">
            <div style="padding: 30px;">
              <img src="assets/img/SystemDesign/SystemArchitecture.png" class="img-fluid" alt="">
            </div>
            </div>

            
        </div>
      </section><!-- End Why Us Section -->

        <!-- ======= Why Us Section ======= -->
        <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
          <div class="container">
  
            <div class="row">
              <div style="padding: 20px;">
                <div class="section-title">
                  <h2>Site Map</h2>
                </div>
                
                <p>After conducting interviews, we made two persona pages respectively for each of the interviewees. This helps us better understand their needs and goals and identify their requirements. Also, we wrote a short story for each of their use cases.</p>
    
              </div>
            </div>
  
            <div class="row">
              <div style="padding: 30px;">
                <img src="assets/img/SystemDesign/sitemapnew.jpg" class="img-fluid" alt="">
              </div>
              </div>
  
              
          </div>
        </section><!-- End Why Us Section -->

        <!-- ======= Why Us Section ======= -->
      <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
        <div class="container">

          <div class="row">
            <div style="padding: 20px;">
              <div class="section-title">
                <h2>Sequence Diagrams</h2>
              </div>
              
              <p>After conducting interviews, we made two persona pages respectively for each of the interviewees. This helps us better understand their needs and goals and identify their requirements. Also, we wrote a short story for each of their use cases.</p>
  
            </div>
          </div>
          <br>

          <u><h4 style="text-align: center;">View Past Carbon Emissions</h4></u>

          <div class="row">
            <div style="padding: 30px;">
              <img src="assets/img/SystemDesign/Sequence Diagram 1.png" class="img-fluid" alt="">
            </div>
            </div>

            <br>

            <u><h4 style="text-align: center;">View Predicted Carbon Emissions and Advice</h4></u>

            <div class="row">
              <div style="padding: 30px;">
                <img src="assets/img/SystemDesign/Sequence Diagram 2.png" class="img-fluid" alt="">
              </div>
              </div>
            
        </div>
      </section><!-- End Why Us Section -->

      <!-- ======= Why Us Section ======= -->
      <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
        <div class="container">

          <div class="row">
            <div style="padding: 20px;">
              <div class="section-title">
                <h2>Design Patterns</h2>
              </div>

              <ol>
                <li>
                  <strong>Singleton Pattern</strong>  -  All of the external API and SDK clients (namely ElectricityMapperClient, AzureClient and OpenAIClient) are implemented as singletons. This is done so they share caches despite being instantiated in different modules. This has a significant performance benefit as different API endpoints instantiate the clients at different points. The singleton pattern allows the speeds gain of caching to be realised no matter the order in which the API endpoints are queried. This design pattern restricts the instantiation of a class to a single instance and ensures that no other instance of that class can be created.
                </li>
                <li>
                  <strong>Adapter Pattern</strong> - The get_advice method of the OpenAIClient class can't accept a list of GenericResource objects directly as it is lacking some data about each resource. The GenericResource class is owned by Microsoftâ€™s Azure SDK and can therefore not be edited. To fix this the adapter design pattern is used. We designed the ResourceEmissionsInfo class as a wrapper around the GenericResource class to allow the advice to be generated. 
                  The main goal of the Adapter pattern is to make classes with incompatible interfaces work together seamlessly. The pattern consists of three main components:
                  <ol>
                    <li>Target (OpenAIClient)</li>
                    <li>Adaptee (GenericResource)</li>
                    <li>Adapter (ResourceEmissionsInfo)</li>
                  </ol>
                  Together these allow Microsoft owned classes to be used with our solutions interfaces.
                </li>
                <li>
                  <strong>Iterator Pattern</strong> - A function is needed that generates a list of pairs dates from a start to end time in given increments. It should not exceed the end time: for example if your give it 01/01/2023 00:00 to 03/01/2023 12:00 with a 24 hour increment, it should return (01/01/2023 00:00, 02/01/2023 00:00), (02/01/2023 00:00, 03/01/2023 00:00) and no further. An iterator pattern can be used here to hide the implementation and do it infinitely if no end date is specific as seen below:
                  <div class="row">
                    <div style="padding: 30px;">
                      <img src="assets/img/SystemDesign/Iterator.png" class="img-fluid" alt="">
                    </div>
                  </div>
                </li>
              </ol>

            </div>
          </div>
            
        </div>
      </section><!-- End Why Us Section -->

  <!-- ======= Why Us Section ======= -->
  <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
    <div class="container">

      <div class="row">
        <div style="padding: 20px;">
          <div class="section-title">
            <h2>Class Diagrams</h2>
          </div>
          
          <p></p>

        </div>
      </div>

      <div class="row">
        <div style="padding: 30px;">
          <img src="assets/img/SystemDesign/ClassDiagram.png" class="img-fluid" alt="">
        </div>
      </div>

        
    </div>
  </section><!-- End Why Us Section -->

     <!-- ======= Why Us Section ======= -->
      <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
        <div class="container">

          <div class="row">
            <div style="padding: 20px;">
              <div class="section-title">
                <h2>Data storage</h2>
              </div>
              
              <p>Our solution has no persistent data storage and no databases but does make use of various caches. These caches are updated first before the server serves it first request and are then updated every hour by a background process thereby making the backend multithreaded.</p>
              
              <ol>
                <li>
                  Resource Cache. Querying the Azure SDK is a slow operation. Therefore, a cache of all resource groups and their resources will be maintained. It will have the following structure:
                  <div class="row">
                    <div style="padding: 30px;">
                      <img src="assets/img/SystemDesign/ResourceGroupCache.png" class="img-fluid" alt="">
                    </div>
                  </div>
                  Resources should only ever be attempted to be accessed through the AzureClient Singleton. Therefore, the AzureClient will maintain this cache. It will invalidate the cache every hour and repopulate.
                </li>

                <li>
                  Predictions Cache. Generating the future carbon emissions through our ML model is a slow operation. Therefore, a cache of all resources and their future predictions will be maintained. The UI will only ever display the next 3 days predicted emissions in one-hour intervals. Therefore, the cache will have the following structure:
                  <div class="row">
                    <div style="padding: 30px;">
                      <img src="assets/img/SystemDesign/PredictionsCache.png" class="img-fluid" alt="">
                    </div>
                  </div>
                </li>
              </ol>
            </div>
          </div>

          

            
        </div>
      </section><!-- End Why Us Section -->

    <!-- ======= Why Us Section ======= -->
    <section class="why-us section-bg" data-aos="fade-up" date-aos-delay="200">
      <div class="container">

        <div class="row">
          <div style="padding: 20px;">
            <div class="section-title">
              <h2>APIs defined</h2>
            </div>
            
            <p>This is a Swagger specification of the REST API implemented:</p>

          </div>
        </div>

        <div class="row">
          <div style="padding: 30px;">
            <img src="assets/img/SystemDesign/Swagger.png" class="img-fluid" alt="">
          </div>
          </div>

          
      </div>
    </section><!-- End Why Us Section -->




  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" data-aos="fade-up" data-aos-easing="ease-in-out" data-aos-duration="500">

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Moderna</span></strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/free-bootstrap-template-corporate-moderna/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>